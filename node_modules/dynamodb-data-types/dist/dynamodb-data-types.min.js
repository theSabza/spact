(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){window.DynamoDbDataTypes=require("./lib/dynamodb-data-types")},{"./lib/dynamodb-data-types":4}],2:[function(require,module,exports){(function(Buffer){var isArray=require("./util").isArray;var errs=require("./errs");var __preserveArrays=false;function _preserveArrays(){__preserveArrays=true}function test(arr,fn){for(var i=0;i<arr.length;i++){if(!fn(arr[i]))return false}return true}function isnumber(el){return typeof el==="number"||el instanceof Number}function isstring(el){return typeof el==="string"||el instanceof String}function isbinary(el){if(el instanceof Buffer)return true;return false}function detectType(val){if(isArray(val)){var arr=val;if(test(arr,isnumber))return"NS";if(test(arr,isstring))return"SS";if(test(arr,isbinary))return"BS";return"L"}if(isstring(val))return"S";if(isnumber(val))return"N";if(isbinary(val))return"B";if(val===null)return"NULL";if(typeof val==="boolean")return"BOOL";if(typeof val==="object"){return"M"}}function explicit_type(opts,key){var type_specified=typeof opts==="object"&&typeof opts.types==="object"&&typeof key==="string"&&typeof opts.types[key]==="string";if(!type_specified)return;var type=opts.types[key];if(typeExists(type))return type}var MULTIPLES=["L","BS","NS","SS"];function getType(val,opts,key){var explicit=explicit_type(opts,key);var detected=detectType(val);var type=detected;if(isArray(val)&&__preserveArrays)type="L";if(MULTIPLES.indexOf(explicit)>-1&&MULTIPLES.indexOf(detected)>-1)type=explicit;return type}function eachToString(arr){return arr.map(function(v){return v.toString()})}function wrap1(val,opts,key){switch(getType(val,opts,key)){case"B":return{B:val};case"BS":return{BS:val};case"N":return{N:val.toString()};case"NS":return{NS:eachToString(val)};case"S":return{S:val.toString()};case"SS":return{SS:eachToString(val)};case"BOOL":return{BOOL:val?true:false};case"L":return{L:val.map(function(obj){return wrap1(obj,opts)})};case"M":return{M:wrap(val,opts)};case"NULL":return{NULL:true};default:return}}function wrap(obj,opts){var result={};for(var key in obj){if(obj.hasOwnProperty(key)){var wrapped=wrap1(obj[key],opts,key);if(typeof wrapped!=="undefined")result[key]=wrapped}}return result}var unwrapFns={B:undefined,BS:undefined,N:function(o){return Number(o)},NS:function(arr){return arr.map(function(o){return Number(o)})},S:undefined,SS:undefined,BOOL:undefined,L:function(val){return val.map(unwrap1)},M:function(val){return unwrap(val)},NULL:function(){return null}};function typeExists(type){return unwrapFns.hasOwnProperty(type)}function unwrap1(dynamoData){var keys=Object.keys(dynamoData);if(keys.length!==1)throw new Error("Unexpected DynamoDB AttributeValue");var typeStr=keys[0];if(!unwrapFns.hasOwnProperty(typeStr))throw errs.NoDatatype;var val=dynamoData[typeStr];return unwrapFns[typeStr]?unwrapFns[typeStr](val):val}function unwrap(attrVal){var result={};for(var key in attrVal){if(attrVal.hasOwnProperty(key)){var value=attrVal[key];if(value!==null&&typeof value!=="undefined")result[key]=unwrap1(attrVal[key])}}return result}function wrapDebug(obj,opts){var wrapped=wrap(obj,opts);return wrapped}function unwrapDebug(attrVal){var unwrapped=unwrap(attrVal);return unwrapped}module.exports={wrap:wrapDebug,unwrap:unwrapDebug,wrap1:wrap1,unwrap1:unwrap1,_preserveArrays:_preserveArrays}}).call(this,require("buffer").Buffer)},{"./errs":5,"./util":6,buffer:7}],3:[function(require,module,exports){var isArray=require("./util").isArray;var errs=require("./errs");var attr=require("./AttributeValue");var util=require("./util");function isStr(val){return typeof val==="string"||val instanceof String}function hasKeysOnly(attrs){return attrs&&(isStr(attrs)||isArray(attrs))?true:false}function appendAttr(action,key,value,updates,opts){if(value!==null&&typeof value!=="undefined")updates[key]={Action:action,Value:attr.wrap1(value,opts,key)};else updates[key]={Action:action}}function appendAttrsKeysOnly(action,attrs,updates,opts){if(typeof attrs==="string"||attrs instanceof String)attrs=attrs.split(",");if(attrs&&isArray(attrs)){for(var i=0;i<attrs.length;i++){var key=attrs[i];if(key&&isStr(key)&&key.length>0)appendAttr(action,key.trim(),null,updates,opts)}}return updates}function appendAttrs(action,attrs,_updates,opts){var updates=isTypeUpdates(this)?this:_updates||new Updates;if(attrs&&hasKeysOnly(attrs)){appendAttrsKeysOnly(action,attrs,updates,opts)}else if(typeof attrs==="object"){util.forIn(attrs,function(value,key){if(value!==null&&typeof value!=="undefined")appendAttr(action,key,value,updates,opts)})}return updates}function add(attrs,opts){return appendAttrs.call(this,"ADD",attrs,undefined,opts)}function put(attrs,opts){return appendAttrs.call(this,"PUT",attrs,undefined,opts)}function del(attrs){return appendAttrs.call(this,"DELETE",attrs)}module.exports={add:add,put:put,"delete":del,isTypeUpdates:isTypeUpdates,Updates:Updates};function Updates(){}function isTypeUpdates(obj){return obj instanceof Updates}function addProp(name,value,target){Object.defineProperty(target,name,{value:value,writable:false,enumerable:false,configurable:false})}addProp("add",add,Updates.prototype);addProp("put",put,Updates.prototype);addProp("delete",del,Updates.prototype)},{"./AttributeValue":2,"./errs":5,"./util":6}],4:[function(require,module,exports){var attr=require("./AttributeValue");function preserveArrays(){attr._preserveArrays()}module.exports={errs:require("./errs"),AttributeValue:attr,AttributeValueUpdate:require("./AttributeValueUpdate"),preserveArrays:preserveArrays}},{"./AttributeValue":2,"./AttributeValueUpdate":3,"./errs":5}],5:[function(require,module,exports){module.exports={NoDatatype:new Error("No data type (B, BS, N, NS, S, SS)."),NoData:new Error("No data")}},{}],6:[function(require,module,exports){function forIn(obj,fn){var keys=Object.keys(obj);var len=keys.length;for(var i=0;i<len;i++){var key=keys[i];fn(obj[key],key,obj)}}var isArray=Array.isArray||function(arg){return Object.prototype.toString.call(arg)==="[object Array]"};module.exports={forIn:forIn,isArray:isArray}},{}],7:[function(require,module,exports){},{}]},{},[1]);
//# sourceMappingURL=dist/dynamodb-data-types.min.map